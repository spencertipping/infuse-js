// Infuse futures.
// See also the [Infuse future source](future-src.md).

// Encapsulated callbacks! For example:

var f      = infuse.future();
var called = false;

f.on('value', function (x) {
infuse.assert_equal((  x                             ), (5));
  called = true;
});

infuse.assert_equal((called                          ), (false));

var trigger = f.trigger('value');
trigger(5);
infuse.assert_equal((called                          ), (true));

// At this point, `f` is finalized; we can't change its value. But we can still
// construct derivatives of it:

var g = f.map('_ + 1');
g.on('value', function (x) {
infuse.assert_equal((  x                             ), (6));
});

// And we can get its value directly:

infuse.assert_equal((f.value()                       ), (5));
infuse.assert_equal((g.value()                       ), (6));

// Generated by SDoc
