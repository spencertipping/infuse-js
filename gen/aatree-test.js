// AA trees.
// AA trees are used by Infuse as a journaling structure for mutable-object
// updates.

var t = $i.aatree();
t.push(1, 4);

var called = 0;
t.generator()(function (v, k) {
infuse.assert_equal((  v                                    ), (1));
infuse.assert_equal((  k                                    ), (4));
  ++called;
});
infuse.assert_equal((called                                 ), (1));

var called = 0;
t.push(2, 5);
t.generator()(function (v, k) {
  if (called === 0) {
infuse.assert_equal((    v                                  ), (1));
infuse.assert_equal((    k                                  ), (4));
  } else {
infuse.assert_equal((    v                                  ), (2));
infuse.assert_equal((    k                                  ), (5));
  }
  ++called;
});
infuse.assert_equal((called                                 ), (2));

// Generated by SDoc
