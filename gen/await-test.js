// Awaiting asynchronous things.
// Infuse provides some global functions that help you work with futures. Two
// useful ones are `await` and `progress`:

var f1 = infuse.future();
var f2 = infuse.future();
var f = infuse.await([f1, f2]);

infuse.assert_equal((f.get()                                 ), (null));

var f_called = false;
f.on(null, function (result) {
  f_called = true;
infuse.assert_equal((  result.join(',')                      ), ('3,5'));
});

f2.push(5);
infuse.assert_equal((f_called                                ), (false));
infuse.assert_equal((f.get()                                 ), (null));

f1.push(3);
infuse.assert_equal((f_called                                ), (true));
infuse.assert_equal((f.get().join(',')                       ), ('3,5'));

// Generated by SDoc
